# Документация к функции `writeInfo`

Функция `writeInfo` используется для сбора и логирования информации о продукте на основе переданных данных. Она принимает несколько аргументов, обрабатывает их с использованием вспомогательных функций и формирует объект с деталями о продукте. Этот объект затем записывается в лог и возвращается.

## Описание функции

### Функция `writeInfo`

```javascript
export const writeInfo = (...info) => {
    try {
        const product = {
            id: generateUniqueId(),
            name: isValidName(info[0]),
            product: conventorDescription(info[1], false),
            description: conventorDescription(info[2], false),
            price: MakePriceFarFetch(info[3]),
            image: makeCollectionPhoto(info[4]),
        }
        logger.success({
            message: `Данные собраны`,
            file: info[info.length - 1],
            data: product,
        })
        return product

    } catch (error) {
        console.log(error);
        logger.error({
            error: error,
            message: `Ошибка в сборе данных продукта`,
            data: info[info.length - 1],
        })
    }
}
```

- **Описание**: Функция собирает информацию о продукте, используя переданные данные. Информация включает в себя уникальный идентификатор, имя продукта, описание, цену и изображения. Эти данные затем записываются в лог, и объект с собранными данными возвращается из функции. В случае ошибки в процессе сбора данных, функция записывает ошибку в лог.
  
- **Параметры**:
  - `info` (множество параметров): Массив, состоящий из данных о продукте, таких как название, описание, цена, изображения и путь к файлу.
    - `info[0]` — название продукта (строка).
    - `info[1]` — описание продукта (строка).
    - `info[2]` — дополнительное описание продукта (строка).
    - `info[3]` — цена продукта (строка или число).
    - `info[4]` — изображения продукта (массив изображений или HTML-элементы с изображениями).
    - `info[info.length - 1]` — путь к файлу (строка), передаваемая для логирования.

- **Возвращаемое значение**:
  - Объект с данными о продукте, который включает:
    - `id`: Уникальный идентификатор продукта (строка).
    - `name`: Название продукта.
    - `product`: Описание продукта (строка).
    - `description`: Дополнительное описание продукта (строка).
    - `price`: Цена продукта (число).
    - `image`: Массив с изображениями продукта (массив строк).

- **Логирование**:
  - В случае успешного сбора данных вызывается `logger.success()`, который записывает в лог сообщение о том, что данные успешно собраны, и также записывает сам объект данных.
  - В случае ошибки вызывается `logger.error()`, который записывает ошибку в лог.

- **Обработка ошибок**: В случае ошибки при сборе данных (например, если одна из вспомогательных функций вызовет ошибку), функция записывает ошибку в консоль и лог, а затем прекращает выполнение.

## Вспомогательные функции

Для обработки переданных данных используются следующие функции:

- `generateUniqueId()`: Генерирует уникальный идентификатор.
- `isValidName()`: Проверяет и возвращает название продукта, если оно валидно.
- `conventorDescription()`: Обрабатывает строки описания, очищая их от ненужных данных.
- `MakePriceFarFetch()`: Преобразует строку с ценой в число.
- `makeCollectionPhoto()`: Собирает все изображения из переданного HTML-блока.

## Пример использования

```javascript
const productInfo = [
    "Продукт 1",                 // Название продукта
    "Описание продукта 1",       // Описание продукта
    "Дополнительное описание 1", // Доп. описание
    "$100",                      // Цена
    document.querySelectorAll("img") // Изображения (например, коллекция элементов <img>)
];

const productData = writeInfo(...productInfo);

console.log(productData);
```

## Примечания

- Логирование происходит через модуль `logger`, который должен быть настроен в вашем проекте для работы с логами.
- Функция `writeInfo` использует несколько вспомогательных функций для обработки и извлечения данных, поэтому важно, чтобы все эти функции были корректно определены и работали.

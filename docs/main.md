# Документация: Основной процесс обработки файлов

Этот файл инициализирует и запускает основные процессы обработки файлов в проекте. Он использует переменные окружения, чтобы указать пути к папкам для входных и выходных данных, а также вызывает функции для работы с архивами и обработки данных.

## Описание

Данный файл выполняет следующие ключевые действия:

1. **Загружает переменные окружения** — с помощью библиотеки `dotenv` загружает значения из файла `.env`, такие как пути к папкам с входными данными и для хранения выходных данных.
   
2. **Вызывает функцию для работы с архивами** — `makeListArray` используется для распаковки архивов из указанной папки, создавая структуру выходных данных.

3. **Вызывает функцию для обработки содержимого файлов** — `ParseFolder` сканирует выходную папку и запускает парсинг каждого файла с помощью других функций в проекте.

## Инструкции

### 1. Загрузка переменных окружения

В файле используется библиотека `dotenv`, чтобы загрузить переменные окружения из файла `.env`. Убедитесь, что файл `.env` находится в корне проекта и содержит следующие параметры:

```dotenv
pathFolderinArray=/path/to/your/input/folder
outputPathFolderinArray=/path/to/your/output/folder
```

- `pathFolderinArray` — путь к папке, содержащей архивы, которые нужно распаковать.
- `outputPathFolderinArray` — путь к папке, куда будут сохранены распакованные файлы.

### 2. Функция `makeListArray`

Функция `makeListArray` выполняет распаковку архивов из указанной входной папки. Архивы могут быть различных форматов, включая `.tar`, `.tar.gz`, `.zip`, `.7z`. После распаковки содержимое архивов передается в последующие функции для дальнейшей обработки.

```js
makeListArray(process.env.pathFolderinArray, process.env.outputPathFolderinArray);
```

### 3. Функция `ParseFolder`

Функция `ParseFolder` сканирует все файлы в указанной выходной папке и запускает процесс парсинга каждого файла с использованием других функций из проекта.

```js
ParseFolder(process.env.outputPathFolderinArray);
```

Она последовательно обрабатывает каждый файл, передавая его в функцию для дальнейшего парсинга и извлечения данных.

## Пример работы

1. Создайте файл `.env` в корне проекта и настройте пути к папкам.
2. Запустите файл с основным процессом:
    ```bash
    node mainProcess.js
    ```

3. В результате будут распакованы все архивы в указанной папке, и данные из файлов будут обработаны и записаны в выходной каталог.

## Логирование

Все операции логируются с помощью библиотеки `logger`. Логи о статусе обработки архивов и данных будут записаны в файл, указанный в конфигурации логирования.

## Возможные ошибки

- Ошибка загрузки переменных окружения:
    - Убедитесь, что файл `.env` существует и корректно настроен.
- Ошибка при распаковке архивов:
    - Убедитесь, что архивы в папке корректны и не повреждены.
- Ошибка при парсинге файлов:
    - Проверьте структуру входных файлов на наличие ошибок.

